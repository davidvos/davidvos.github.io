name: Cypress Tests

on: [push]

jobs:
  cypress-run:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2.5.0

      - name: Docker compose up
        run: docker-compose up --abort-on-container-exit --exit-code-from e2e

      # confirms Cypress ran correctly by looking at the output file
      - name: Check Cypress output
        run: cat e2e/cypress/results/output.xml
